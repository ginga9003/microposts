<script type="text/javascript">
  $(function() {
    setColor("<%= @user.color %>");
  });
</script>

<h1><%= t('users.edit.title') %></h1>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <%= form_for(@user) do |f| %>
      <%= render 'shared/error_messages', object: f.object %>
  
      <p><%= gravatar_for @user, { class: "gravatar-lg", size: 80 } %></p>
      
      <div class="form-group">
        <%= f.label :name %>
        <%= f.text_field :name, class: "form-control" %>
      </div>
  
      <div class="form-group">
        <%= f.label :nickname %>
        <%= f.text_field :nickname, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= f.label :email %>
        <%= f.text_field :email, class: "form-control"  %>
      </div>
<!-- 現状ここではパスワード変更はしない -->
<!--
      <div class="form-group">
        <%= f.label :password %>
        <%= f.password_field :password, class: "form-control"  %>
      </div>

      <div class="form-group">
        <%= f.label :password_confirmation, t('common.profile.password_confirmation') %>
        <%= f.password_field :password_confirmation, class: "form-control"  %>
      </div>
-->
      <div class="form-group">
        <%= f.label :description %>
        <%= f.text_area :description, class: "form-control"  %>
      </div>

      <div class="form-group">
        <%= f.label :location %>
        <%= f.text_field :location, class: "form-control"  %>
      </div>
      <div class="form-group">
        <%= f.label :birthday %>
        <%= f.date_field :birthday, class: "form-control", value: @user.birthday %>
<%
=begin
%>
        <div>
          <%= f.date_select :birthday, 
                          { 
                            :use_month_numbers => true, 
                            :date_separator => " / ",
                            :start_year => 1870,
                            :end_year   => 1997,
                            :prompt     => "-"
                          },
                          { class:  "form-control bootstrap-date" } %>
<!-- 日本語化のときに使用するかも -->
<!--
          <%== sprintf(
              date_select(:birthday, "",  
                      :use_month_numbers => true, 
                      :date_separator => '%s', 
                      :start_year => 1870,
                      :end_year   => 1997,
                      :default =>'1990-1-1'.to_date), '年','月') + '日生まれ'
          %>
-->
        </div>
<%
=end
%>
      </div>
      
      <div class="form-group">
        <%= f.label :color %>
        <div style="position: relative;">
          <input type="text" class="form-control" id="small-selector" readonly="readonly" />
          <%= f.hidden_field :color, id: "colorIndex"  %>
        </div>
      </div>
      
      <div class="form-group">
        <%= f.label :tamo %>
        <%= f.check_box :tamo, class: "form-control" %>
      </div>
      
      <div class="form-group">
        <%= f.label :paging %>
        <%= f.check_box :paging, class: "form-control" %>
      </div>
      
      <%= f.submit t('users.edit.update'), class: "btn btn-large btn-primary" %>
    <% end %>
  </div>
</div>